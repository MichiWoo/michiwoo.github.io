<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>Login con Bootstrap - Michiwoo Webs</title>
    <meta name="description" content="Michiwoo Webs, Login con Bootstrap.">
    <meta name="author" content="Michel González Morales" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="apple-touch-icon" sizes="57x57" href="./images/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./images/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./images/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./images/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./images/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./images/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./images/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./images/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./images/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="./images/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon-16x16.png">
    <link rel="manifest" href="./images/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="./images/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./css/sweetalert.css">
    <link rel="stylesheet" href="./css/main.css">
</head>
<body>
        <nav class="navbar fixed-top navbar-toggleable-md navbar-inverse bg-inverse">
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand" href="./index.html">
                <img src="./images/logo-michiwoo.png" width="80" height="40" class="d-inline-block align-top" alt="Logo Michiwoo Webs">
                <!-- Michiwoo Webs -->
            </a>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
            <a class="nav-item nav-link active" href="#tipos">Login con Bootstrap <span class="sr-only">(current)</span></a>
            <a class="nav-item nav-link" href="login-materialize.html">Login con Materialize</a>
            <a class="nav-item nav-link" href="#dashboards">Login Genérico</a>
            <a class="nav-item nav-link" href="portafolio.html">Regresar al Portafolio</a>
            </div>
            </div>
        </nav>

    <section>
        <div class="container">
            <div class="jumbotron jumbotron-fluid">
                <div class="col-sm-12 text-center">
                    <h1>Login con Boostrap</h1>
                </div>
                <br>
                <form>
                    <div class="form-group row">
                        <label for="busuario" class="col-sm-12 col-md-1 push-md-1 col-form-label">Usuario:</label>
                        <div class="col-sm-12 col-md-5 push-md-2">
                            <input class="form-control" type="text" placeholder="Nombre Usuario" id="busuario">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="bpassword" class="col-sm-12 col-md-1 push-md-1 col-form-label">Contraseña</label>
                        <div class="col-sm-12 col-md-5 push-md-2">
                            <input class="form-control" type="password" placeholder="Contraseña" id="bpassword">
                        </div>
                    </div>
                    <div class="col-sm-12 col-md-8 text-right">
                        <button type="button" id="submitB" class="btn btn-primary">Enviar</button>
                    </div>
                </form>
                <h5>Ejemplo:</h5>
                <p>Usuario: Admin</p>
                <p>Contraseña: madagascar</p>
            </div>
        </div>
    </section>

<script src="./js/jquery.min.js"></script>
<script src="./js/sweetalert.min.js"></script>

<script>
    var btnEBootstrap = document.getElementById('submitB')
    var inpNombreB = document.getElementById('busuario')
    var inpContrasenaB = document.getElementById('bpassword')

    btnEBootstrap.addEventListener('click', function (){
        let usuario = inpNombreB.value
        let pass = inpContrasenaB.value
    
        console.log(usuario)
        console.log(pass)
    
        validarUsuario(usuario, pass)
    })

    function validarUsuario(usuario, contrasena) {
        var lusuario= './validate.php?usuario=' + usuario + '&pass=' + contrasena;
        console.log(lusuario)
        var validacion = $.getJSON(lusuario, {format: "json"}, function(data) { 
            console.log(data)
            if (data.success) {
                inpNombreB.value = ""
                inpContrasenaB.value = ""
                swal({
                    timer: 3000,
                    title: `El Usuario: ${data.nombreUsuario} ha sido Logueado.`,
                    showConfirmButton: false
                  })
            } else {
                inpNombreB.value = ""
                inpContrasenaB.value = ""
                swal({
                    timer: 3000,
                    title: `Error al entrar, verifique su Usuario y/o Contaseña.`,
                    showConfirmButton: false
                  })
            }
            
        })
    }
</script>

</body>
</html>